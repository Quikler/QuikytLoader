<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:QuikytLoader.ViewModels"
        xmlns:views="using:QuikytLoader.Views"
        xmlns:ui="using:FluentAvalonia.UI.Controls"
        x:Class="QuikytLoader.Views.MainWindow"
        x:DataType="vm:AppViewModel"
        Icon="/Assets/icon.ico"
        Title="QuikytLoader"
        Width="900"
        Height="600"
        MinWidth="800"
        MinHeight="500"
        WindowStartupLocation="CenterScreen"
        CanResize="True">

    <Design.DataContext>
        <vm:AppViewModel/>
    </Design.DataContext>

    <!-- Firefox/Zen-style layout with side navigation -->
    <Grid ColumnDefinitions="Auto,*">

        <!-- Left Navigation Bar (Firefox-style vertical tabs) -->
        <Border Grid.Column="0"
                Background="{DynamicResource LayerFillColorDefaultBrush}"
                BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,0,1,0">

            <Grid RowDefinitions="Auto,*,Auto">

                <!-- App Logo/Title -->
                <Border Grid.Row="0"
                        Padding="16,20"
                        BorderBrush="{DynamicResource DividerStrokeColorDefaultBrush}"
                        BorderThickness="0,0,0,1">
                    <StackPanel Spacing="8">
                        <ui:SymbolIcon Symbol="Globe"
                                       FontSize="32"
                                       Foreground="{DynamicResource AccentFillColorDefaultBrush}"/>
                        <TextBlock Text="QuikytLoader"
                                   FontSize="11"
                                   FontWeight="SemiBold"
                                   HorizontalAlignment="Center"
                                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Border>

                <!-- Navigation Buttons -->
                <StackPanel Grid.Row="1"
                            Spacing="4"
                            Margin="8,12">
                    <StackPanel.Styles>
                        <Style Selector="Button:pointerover /template/ ContentPresenter#PART_ContentPresenter">
                            <Setter Property="Background" Value="{Binding $parent[Button].Background} "/>
                        </Style>
                    </StackPanel.Styles>

                    <!-- Home Tab -->
                    <Button Command="{Binding NavigateToHomeCommand}"
                            Width="64"
                            Height="64"
                            Padding="0"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            CornerRadius="8"
                            Classes.selected="{Binding IsHomeSelected}">
                        <Button.Styles>
                            <Style Selector="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="BorderThickness" Value="0"/>
                            </Style>
                            <Style Selector="Button.selected">
                                <Setter Property="Background" Value="{DynamicResource AccentFillColorDefaultBrush}"/>
                            </Style>
                            <Style Selector="Button.selected:pointerover">
                                <Setter Property="Background" Value="{DynamicResource AccentFillColorDefaultBrush}"/>
                            </Style>
                            <Style Selector="Button.selected:pressed">
                                <Setter Property="Background" Value="{DynamicResource AccentFillColorDefaultBrush}"/>
                            </Style>
                            <Style Selector="Button.selected ui|SymbolIcon">
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                            <Style Selector="Button.selected TextBlock">
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                        </Button.Styles>

                        <StackPanel Spacing="4">
                            <ui:SymbolIcon Symbol="Home"
                                           FontSize="24"/>
                            <TextBlock Text="Home"
                                       FontSize="10"
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <!-- Settings Tab -->
                    <Button Command="{Binding NavigateToSettingsCommand}"
                            Width="64"
                            Height="64"
                            Padding="0"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            CornerRadius="8"
                            Classes.selected="{Binding IsSettingsSelected}">
                        <Button.Styles>
                            <Style Selector="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="BorderThickness" Value="0"/>
                            </Style>
                            <Style Selector="Button.selected">
                                <Setter Property="Background" Value="{DynamicResource AccentFillColorDefaultBrush}"/>
                            </Style>
                            <Style Selector="Button.selected:pointerover">
                                <Setter Property="Background" Value="{DynamicResource AccentFillColorDefaultBrush}"/>
                            </Style>
                            <Style Selector="Button.selected:pressed">
                                <Setter Property="Background" Value="{DynamicResource AccentFillColorDefaultBrush}"/>
                            </Style>
                            <Style Selector="Button.selected ui|SymbolIcon">
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                            <Style Selector="Button.selected TextBlock">
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                        </Button.Styles>

                        <StackPanel Spacing="4">
                            <ui:SymbolIcon Symbol="Setting"
                                           FontSize="24"/>
                            <TextBlock Text="Settings"
                                       FontSize="10"
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                </StackPanel>

                <!-- Footer Info -->
                <Border Grid.Row="2"
                        Padding="8,12"
                        BorderBrush="{DynamicResource DividerStrokeColorDefaultBrush}"
                        BorderThickness="0,1,0,0">
                    <StackPanel Spacing="4">
                        <TextBlock Text="Made with â™¥"
                                   FontSize="9"
                                   HorizontalAlignment="Center"
                                   Foreground="{DynamicResource TextFillColorTertiaryBrush}"/>
                        <TextBlock Text="for Arch"
                                   FontSize="9"
                                   HorizontalAlignment="Center"
                                   Foreground="{DynamicResource TextFillColorTertiaryBrush}"/>
                    </StackPanel>
                </Border>

            </Grid>
        </Border>

        <!-- Main Content Area -->
        <ContentControl Grid.Column="1"
                        Content="{Binding CurrentView}">
            <ContentControl.DataTemplates>
                <DataTemplate DataType="vm:HomeViewModel">
                    <views:HomeView/>
                </DataTemplate>
                <DataTemplate DataType="vm:SettingsViewModel">
                    <views:SettingsView/>
                </DataTemplate>
            </ContentControl.DataTemplates>
        </ContentControl>

    </Grid>

</Window>
